{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %}Cadastrar Novo Cliente{% endblock %}

{% block content %}
<div class="container-fluid mt-4 px-5">

    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Cadastro de Cliente</h4>
        </div>
        <div class="card-body">

            <style>
                .nav-tabs .nav-link {
                    font-weight: 500;
                    color: #000 !important;
                    border: none;
                    border-radius: 0;
                }
                .nav-tabs .nav-link.active {
                    font-weight: bold;
                    border-bottom: 4px solid #004085 !important;
                }
                .tab-blue-1 { background-color: #cce5ff; }
                .tab-blue-2 { background-color: #99ccff; }
            </style>

            <form method="POST" action="{% url 'cadastrar_clientes' %}">
                {% csrf_token %}

                <!-- Abas -->
                <ul class="nav nav-tabs mb-4" id="clienteTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link tab-blue-1 active" data-toggle="tab" href="#dados" role="tab">üßç Informa√ß√µes Pessoais</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link tab-blue-2" data-toggle="tab" href="#endereco" role="tab">üè† Endere√ßo</a>
                    </li>
                </ul>

                <div class="tab-content" id="clienteTabsContent">

                    <!-- Aba 1 -->
                    <div class="tab-pane fade show active" id="dados" role="tabpanel">
                        <h5 class="text-primary mb-3">üßç Informa√ß√µes Pessoais</h5>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                {{ form.nome_razaosocial.label_tag }}
                                {{ form.nome_razaosocial|add_class:"form-control" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.tipo.label_tag }}
                                {{ form.tipo|add_class:"form-control" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.cpf_cnpj.label_tag }}
                                {{ form.cpf_cnpj|add_class:"form-control" }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                {{ form.email.label_tag }}
                                {{ form.email|add_class:"form-control" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.telefone_1.label_tag }}
                                {{ form.telefone_1|add_class:"form-control" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.telefone_2.label_tag }}
                                {{ form.telefone_2|add_class:"form-control" }}
                            </div>
                        </div>

                       
                    </div>

                    <!-- Aba 2 -->
                    <div class="tab-pane fade" id="endereco" role="tabpanel">
                        <h5 class="text-primary mb-3">üè† Endere√ßo</h5>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                {{ form.cep.label_tag }}
                                {{ form.cep|add_class:"form-control"|attr:"id:id_cep" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.rua.label_tag }}
                                {{ form.rua|add_class:"form-control"|attr:"id:id_rua" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.numero.label_tag }}
                                {{ form.numero|add_class:"form-control" }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                {{ form.bairro.label_tag }}
                                {{ form.bairro|add_class:"form-control"|attr:"id:id_bairro" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.cidade.label_tag }}
                                {{ form.cidade|add_class:"form-control"|attr:"id:id_cidade" }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.estado.label_tag }}
                                {{ form.estado|add_class:"form-control"|attr:"id:id_estado" }}
                                
                            </div>
                        </div>   
                    </div>

                </div>

                        <!-- Bot√µes -->
            <div class="d-flex justify-content-center mt-4">
                <button type="button" id="btnVoltar" class="btn btn-secondary px-4 mr-2">Voltar</button>
                <button type="button" id="btnProximo" class="btn btn-primary px-4 mr-2">Pr√≥ximo</button>
                <button type="submit" id="btnSalvar" class="btn btn-success px-5 d-none">Salvar</button>
                <a href="{% url 'listar_clientes' %}" class="btn btn-outline-danger px-4 ml-2">Cancelar</a>
            </div>
        </form>

        </div>
    </div>
</div>

<script>
    function irParaAba(abaId) {
        $('#clienteTabs a[href="#' + abaId + '"]').tab('show');
    }
</script>
{% endblock %}
